import{h as x,o as s,c as a,a as u,u as l,w as i,F as f,Z as B,b as e,m as p,g as S,i as g,f as m,j as h,n as U,t as r,O as b}from"./app-147d68c5.js";import{_ as $}from"./AuthenticatedLayout-46e0a625.js";import M from"./ContentHeader-33248eec.js";import N from"./Table-3f3bb8e1.js";import{S as _}from"./sweetalert2.all-a2999483.js";import{f as A}from"./index-ba42aa01.js";import"./Pagination-b9425e4a.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"mb-3"},O=e("i",{class:"ri-add-circle-fill align-bottom me-1"},null,-1),P={class:"card"},V=e("div",{class:"card-header"},[e("h3",{class:"card-title mb-0"},"List User")],-1),D={class:"card-body"},R=e("tr",null,[e("th",null,"#"),e("th",null,"Name"),e("th",null,"E-Mail"),e("th",null,"Roles"),e("th",null,"Permissions"),e("th",null,"Created At"),e("th",null,"Action")],-1),T={class:"d-flex flex-wrap gap-2"},E={class:"badge badge-soft-secondary fs-11"},F={class:"d-flex flex-wrap gap-2"},H={class:"badge badge-soft-secondary fs-11"},I={class:"d-flex flex-wrap gap-2"},L=e("i",{class:"ri-edit-2-line fs-17"},null,-1),z=["onClick"],Z=e("i",{class:"ri-delete-bin-line fs-17"},null,-1),q=[Z],G=["onClick"],J=e("i",{class:"ri-repeat-2-line fs-17"},null,-1),K=[J],le={__name:"Index",props:{users:Object,filters:Object},setup(c){const y=x().appContext.config.globalProperties.$iterationPaginated,C=[{title:"Administrator",active:!0},{title:"User Management",active:!0}];let k=n=>{_.fire({title:"Are you sure want to delete this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"red"}).then(d=>{d.isConfirmed&&b.delete(route("admin.user.destroy",n),{onSuccess:t=>{t.props.response.success&&_.fire("Success!",t.props.response.success,"success")}})})},w=n=>{_.fire({title:"Restore User?",icon:"warning",showCancelButton:!0,confirmButtonText:"Restore",confirmButtonColor:"#0ab39c"}).then(d=>{d.isConfirmed&&b.post(route("admin.user.restore",n.id),{onSuccess:t=>{t.props.response.success&&_.fire("Success!",t.props.response.success,"success")}})})};return(n,d)=>(s(),a(f,null,[u(l(B),{title:"User Management"}),u($,null,{default:i(()=>[u(M,{title:"User Management",breadcrumbs:C}),e("div",j,[n.$page.props.auth.user.can.includes("create-user")?(s(),p(l(g),{key:0,href:n.route("admin.user.create"),class:"btn btn-success"},{default:i(()=>[O,S(" Add New ")]),_:1},8,["href"])):m("",!0)]),e("div",P,[V,e("div",D,[u(N,{"data-route":n.route("admin.user.index"),filters:c.filters,data:c.users},{thead:i(()=>[R]),default:i(()=>[e("tbody",null,[(s(!0),a(f,null,h(c.users.data,(t,v)=>(s(),a("tr",{key:t.id,class:U({"table-danger":t.deleted_at!=null})},[e("td",null,r(l(y)(c.users,v)),1),e("td",null,r(t.name),1),e("td",null,r(t.email),1),e("td",null,[e("div",T,[(s(!0),a(f,null,h(t.roles,o=>(s(),a("span",E,r(o.name),1))),256))])]),e("td",null,[e("div",F,[(s(!0),a(f,null,h(t.permissions,o=>(s(),a("span",H,r(o.name),1))),256))])]),e("td",null,r(l(A)(new Date(t.created_at),"yyyy-MM-dd HH:mm:ss")),1),e("td",null,[e("div",I,[t.deleted_at==null?(s(),p(l(g),{key:0,href:n.route("admin.user.edit",t),class:"link-success"},{default:i(()=>[L]),_:2},1032,["href"])):m("",!0),t.deleted_at==null?(s(),a("a",{key:1,href:"#",class:"link-danger",onClick:o=>l(k)(t)},q,8,z)):m("",!0),t.deleted_at!=null?(s(),a("a",{key:2,href:"javascript:;",class:"link-success",onClick:o=>l(w)(t)},K,8,G)):m("",!0)])])],2))),128))])]),_:1},8,["data-route","filters","data"])])])]),_:1})],64))}};export{le as default};
